//////////////////////
// Define the structure of the cathedral
// and the order the stones must will be
// built
//////////////////////

game.sprites.cathedral.arch = function(xStart,xEnd,height) {
    let r = []
    let y = height
    // Ground
    r.push([xStart,xEnd,0,0])
    // Left wall
    r.push([xStart,xStart,1,height])
    // arch
    for (let x=xStart+1;x<xEnd;x+=1) {
        if(x<=xEnd-(xEnd-xStart)/2) {
            y+=1
        } else {y-=1}
        r.push([x,x,y,y])
    }
    // Right wall
    r.push([xEnd,xEnd,1,height])
    return r
}

game.sprites.cathedral.facadeFull = function(x) {
    return [[x,x,0,0],[x,x,18,23],[x,x,39,46],[x,x,59,60]]
}

game.sprites.cathedral.facadeEmpty = function(x) {
    return [[x,x,0,0],[x,x,18,18],[x,x,23,23],[x,x,39,39],[x,x,46,46],[x,x,59,60]]
}

game.sprites.cathedral.facadeFullMiddle = function(x) {
    return [[x,x,0,0],[x,x,18,23],[x,x,39,46]]
}

game.sprites.cathedral.facadeEmptyMiddle = function(x) {
    return [[x,x,0,0],[x,x,18,18],[x,x,23,23],[x,x,39,39],[x,x,46,46]]
}

game.sprites.cathedral.defineStructure = function() {

    let arch = game.sprites.cathedral.arch
    let full = game.sprites.cathedral.facadeFull
    let empty = game.sprites.cathedral.facadeEmpty
    let fullM = game.sprites.cathedral.facadeFullMiddle
    let emptyM = game.sprites.cathedral.facadeEmptyMiddle
    let endOfChor = [[20,40,0,0],[20,22,1,13],[21,22,14,14],[22,22,15,19],[23,23,20,20],[24,24,21,21],[25,25,22,22],[26,26,23,23],[27,27,24,24],[28,28,25,25],[29,31,25,33],[32,32,25,25],[33,33,24,24],[34,34,23,23],[35,35,22,22],[36,36,21,21],[37,37,20,20],[38,38,1,19],[39,39,1,15],[40,40,1,14]]
    let navePilar =  [[11,49,0,0],[11,12,1,13],[12,12,14,14],[13,14,1,19],[11,15,20,20],[12,15,21,21],[13,15,22,22],[14,16,23,23],[15,16,24,33],[16,16,24,34],[17,17,25,26],[17,17,34,35],[18,18,26,27],[18,18,35,36],[19,19,25,28],[19,19,36,37],[20,20,23,29],[20,20,37,38],[21,21,20,30],[21,21,38,39],[22,22,1,42],[21,21,43,43],[22,22,43,44],[23,23,1,45],[24,24,38,46],[25,25,42,47],[26,26,45,48],[27,27,47,49],[28,28,49,50],[29,29,50,51],[30,30,51,52],[31,31,50,51],[32,32,49,50],[33,33,47,49],[34,34,45,48],[35,35,42,47],[36,36,38,46],[37,37,1,45],[38,38,1,44],[39,39,20,30],[39,39,38,39],[39,39,43,43],[40,40,23,29],[40,40,37,38],[41,41,25,28],[41,41,36,37],[42,42,26,27],[42,42,35,36],[43,43,25,26],[43,43,34,35],[44,44,23,34],[45,45,20,33],[46,46,1,23],[47,47,1,22],[48,48,1,14],[48,48,20,21],[49,49,1,13],[49,49,20,20]]
    let nave = [[13,47,0,0],[11,11,20,20],[12,12,20,21],[13,13,1,22],[14,14,22,23],[15,15,23,24],[16,16,24,25],[17,17,25,26],[18,18,26,27],[19,19,27,28],[20,20,28,29],[21,21,29,30],[21,21,43,43],[22,22,30,44],[23,23,44,45],[24,24,45,46],[25,25,46,47],[26,26,47,48],[27,27,48,49],[28,28,49,50],[29,29,50,51],[30,30,51,52],[31,31,50,51],[32,32,49,50],[33,33,48,49],[34,34,47,48],[35,35,46,47],[36,36,45,46],[37,37,44,45],[38,38,30,44],[39,39,43,43],[39,39,29,30],[40,40,28,29],[41,41,27,28],[42,42,26,27],[43,43,25,26],[44,44,24,25],[45,45,23,24],[46,46,22,23],[47,47,1,22],[48,48,20,21],[49,49,20,20]]
    let endNave = [[11,11,20,20],[12,12,20,21],[13,47,0,0],[13,13,1,22],[14,14,1,23],[15,15,20,24],[16,16,21,25],[17,17,22,26],[18,18,23,27],[19,19,24,28],[20,20,25,29],[21,21,26,30],[21,21,43,43],[22,22,27,44],[23,23,28,45],[24,24,29,46],[25,25,30,47],[26,26,31,48],[27,27,32,49],[28,28,33,50],[29,29,34,51],[30,30,35,52],[31,31,34,51],[32,32,33,50],[33,33,32,49],[34,34,31,48],[35,35,30,47],[36,36,29,46],[37,37,28,45],[38,38,27,44],[39,39,26,30],[39,39,43,43],[40,40,25,29],[41,41,24,28],[42,42,23,27],[43,43,22,26],[44,44,21,25],[45,45,20,24],[46,46,1,23],[47,47,1,22],[48,48,20,21],[49,49,20,20]]
    let tower = [[11,49,0,0],[11,12,1,60],[22,23,1,60],[37,38,1,60],[48,49,1,60]]

    let structure = [   [[26,34,0,6],[26,27,7,19],[27,27,20,20],[28,28,17,21],[29,29,18,22],[30,30,19,23],[31,31,18,22],[32,32,17,21],[33,34,7,19],[33,33,20,20]],
                        // 119
                        arch(25,35,19),
                        // 118
                        arch(24,36,19),
                        // 117
                        arch(23,37,19),
                        // 116
                        arch(22,38,19),
                        // 115
                        arch(22,38,19),
                        // 114
                        arch(22,38,19),
                        // 113
                        arch(22,38,19),
                        // 112
                        endOfChor,
                        // 111
                        endOfChor,
                        // 110
                        arch(21,39,19).concat([[29,31,34,35]]),
                        // 109
                        arch(20,40,19).concat([[29,31,35,36]]),
                        // 108
                        arch(19,41,19).concat([[29,31,36,37]]),
                        // 107
                        arch(18,42,19).concat([[29,31,37,38]]),
                        // 106
                        arch(17,43,19).concat([[29,31,38,39]]),
                        // 105
                        arch(16,44,19).concat([[29,31,39,40]]),
                        // 104
                        arch(15,45,19).concat([[29,31,40,41]]),
                        // 103
                        endNave,
                        navePilar,
                        // 104
                        navePilar,
                        // 103
                        nave,nave,nave,nave,nave,nave,
                        //97
                        navePilar,navePilar,
                        //95
                        nave,nave,nave,nave,nave,nave,
                        //89
                        navePilar,navePilar,
                        //87
                        nave,nave,nave,nave,nave,nave,
                        //81
                        navePilar,navePilar,
                        // 79
                        nave,nave,nave,nave,nave,nave,
                        // 73
                        navePilar,navePilar,
                        // 71
                        nave,nave,nave,nave,nave,nave,
                        // 55
                        navePilar,navePilar,
                        // 53
                        nave,nave,nave,nave,nave,nave,
                        // 47
                        navePilar,navePilar,
                        // 45
                        nave,nave,nave,nave,nave,nave,
                        // 39
                        navePilar,navePilar,
                        // 37
                        nave,nave,nave,nave,nave,nave,
                        // 31
                        navePilar,navePilar,
                        // 29
                        nave,nave,nave,nave,nave,nave,
                        // 23
                        navePilar,navePilar,
                        // 21
                        nave,nave,nave,nave,nave,nave,
                        // 15
                        navePilar,navePilar,
                        // 13
                        nave,nave,nave,nave,
                        // 9
                        endNave,
                        //8
                        [[11,49,0,0],[11,12,1,60],[13,21,23,60],[22,23,1,60],[24,36,23,46],[37,38,1,60],[39,47,23,60],[48,49,1,60]],
                        //7
                        tower,tower,tower,tower,
                        //3
                        [[11,49,0,0],[11,13,1,60],[13,15,1,46],[13,13,47,60],[14,14,55,60],[15,15,56,60],[16,18,7,23],[16,18,31,46],[16,16,55,60],[17,17,47,60],[18,18,55,60],[19,23,1,46],[19,19,56,60],[20,20,55,60],[21,23,1,60],[24,26,1,46],[27,33,7,27],[27,27,28,29],[27,27,33,46],[28,28,28,28],[28,28,34,46],[29,31,35,46],[32,32,28,28],[32,32,34,46],[33,33,28,29],[33,33,33,46],[34,36,1,46],[37,39,1,60,],[40,41,1,46],[40,40,55,60],[41,41,56,60],[42,44,7,23],[42,44,31,46],[42,42,55,60],[43,43,47,60],[44,44,55,60],[45,47,1,46],[45,45,56,60],[46,46,55,60],[47,47,47,60],[48,49,1,60]],
                        //2
                        [[11,49,0,0],[11,13,1,60],[14,14,5,23],[14,14,28,46],[14,14,55,60],[15,15,8,23],[15,15,31,46],[15,15,56,60],[16,16,10,23],[16,16,33,46],[16,16,55,60],[17,17,11,23],[17,17,34,60],[18,18,10,23],[18,18,33,46],[18,18,55,60],[19,19,8,23],[19,19,31,46],[19,19,56,60],[20,20,5,23],[20,20,28,46],[20,20,55,60],[21,23,1,60],[24,24,1,46],[25,25,5,46],[26,26,8,29],[26,26,33,46],[27,27,11,28],[27,27,34,46],[28,28,13,27],[28,28,35,46],[29,29,14,26],[29,29,36,46],[30,30,15,26],[30,30,36,46],[31,31,14,26],[31,31,36,46],[32,32,13,27],[32,32,35,46],[33,33,11,28],[33,33,34,46],[34,34,8,29],[34,34,33,46],[35,35,5,46],[36,36,1,46],[37,39,1,60],[40,40,5,23],[40,40,28,46],[40,40,55,60],[41,41,8,23],[41,41,31,46],[41,41,56,60],[42,42,10,23],[42,42,33,46],[42,42,55,60],[43,43,11,23],[43,43,34,60],[44,44,10,23],[44,44,33,46],[44,44,55,60],[45,45,8,23],[45,45,31,46],[45,45,56,60],[46,46,5,23],[46,46,28,46],[46,46,55,60],[47,49,1,60]],
                        //1
                        [[11,12,0,60]].concat(empty(13),full(14),empty(15),full(16),empty(17),full(18),empty(19),full(20),empty(21),[[22,23,0,60]],emptyM(24),fullM(25),emptyM(26),fullM(27),emptyM(28),fullM(29),emptyM(30),fullM(31),emptyM(32),fullM(33),emptyM(34),fullM(35),emptyM(36),[[37,38,0,60]],empty(39),full(40),empty(41),full(42),empty(43),full(44),empty(45),full(46),empty(47),[[48,49,0,60]])
                        
                    ]


    let z = 120

    // Iterate on structure array
    for (let i=0;i<=structure.length-1;i+=1) {
        for (let j=0;j<=structure[i].length-1;j+=1) {
            // Draw wall
            let wall = structure[i][j]
            for (let y=wall[2];y<=wall[3];y+=1) {
                for (let x=wall[0];x<=wall[1];x+=1) {
                    this.structure.push({x:x,y:y,z:z,type:wall[4]})
                }
            }
        }
        z-=1
    }
   

}
